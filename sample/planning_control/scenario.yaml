ScenarioFormatVersion: 3.1.0
ScenarioName: sample_planning_control
ScenarioDescription: sample_planning_control
SensorModel: aip_xx1
VehicleModel: lexus
publish_profile: planning_control
Evaluation:
  UseCaseName: planning_control
  UseCaseFormatVersion: 2.6.0
  Datasets:
    - obstacle_stop:
        VehicleId: default
  Conditions:
    MetricConditions:
      - condition_name: processing_time/static_obstacle_avoidance
        topic: /system/processing_time_checker/metrics
        metric_name: processing_time/static_obstacle_avoidance
        time: { start: 1748195183.4, end: 1748195213.8 } # validate the condition if the message is between start and end in ROS time
        value_type: number
        value_range:
          min: 0.0
          max: 100.0
        condition_type: all_of
        judgement: positive
    PlanningFactorConditions:
      - topic: /planning/planning_factors/obstacle_stop # /planning/planning_factors/** のトピック
        time: { start: 1748195183.4, end: 1748195213.8 } # validate the condition if the message is between start and end in ROS time
        condition_type: all_of
        area: { x: 71.5, y: 345.1, range: 1.0, area_condition: inside } # You can set area to null to ignore area condition.
        behavior: [STOP] # Specify the behavior to be judged. You can set behavior to null to ignore behavior condition.
        distance: { start: 0.0, end: 50.0 } # [m] Specify the distance range to be judged. You can set distance to null to ignore distance condition.
        velocity: { min: 5.0 } # [m/s] Specify the velocity to be judged. You can set velocity to null to ignore velocity condition.
        time_to_wall: { min: 0.0 } # [s]   Specify the time to the next control point of this planning factor to be judged. You can set time_to_wall to null to ignore time_to_wall condition.
        acceleration_to_wall: { min: -3.0 } # [m/s^2] Specify the acceleration to the next control point of this planning factor to be judged. You can set acceleration_to_wall to null to ignore acceleration_to_wall condition.
        judgement: positive # positive or negative
include_use_case:
  UseCaseName: diagnostics
  UseCaseFormatVersion: 0.3.0
  Conditions:
    DiagConditions:
      - hardware_id: control_validator
        name: "control_validator: control_validation_rolling_back"
        level: [OK] # Specify the status to be judged among OK, WARN, ERROR, and STALE. More than one is allowed.
        time: { start: 1748195183.4, end: 1748195213.8 } # Success if the level is specified between start and end in ROS time
        condition_type: all_of
