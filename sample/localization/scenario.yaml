ScenarioFormatVersion: 3.0.0
ScenarioName: sample_localization
ScenarioDescription: sample_localization
SensorModel: sample_sensor_kit
VehicleModel: sample_vehicle
Evaluation:
  UseCaseName: localization
  UseCaseFormatVersion: 2.1.0
  Conditions:
    Convergence:
      AllowableDistance: 0.2 # Lateral distance to be considered convergence
      AllowableExeTimeMs: 100.0 # If the NDT computation time is less than or equal to this value, it is considered successful.
      AllowableIterationNum: 30 # If the number of NDT calculations is less than or equal to this value, it is considered a success.
      PassRate: 95.0 # How much (%) of the evaluation attempts are considered successful.
    Reliability:
      Method: NVTL # NVTL or TP which method to use for evaluation
      AllowableLikelihood: 2.3 # If above this value, the localization reliability value is considered normal.
      NGCount: 10 # If the reliability value is lower than the threshold value for more than this number in the sequence. the evaluation is considered to have failed.
    availability: # NDT Availability evaluation will be run by default even if you don't have this block. You need this block only when you want to disable it.
      enable: false
    OverallCriteriaMask: # Toggle the mask below to perform or not to perform evaluation of the according criteria. The evaluator will automatically set all to `true` if this block is not defined.
      mean_relative_position: true
      mean_relative_angle: true
      mean_relative_linear_velocity: true
      mean_relative_angular_velocity: true
      mean_relative_acceleration: true
      diagnostics_not_ok_rate: true
    DiagnosticsFlagCheck:
      pose_is_passed_delay_gate: # name of the diagnostics to check
        flag: rise # which flag to detect (`rise` or `fall`)
        at_sec: 113 # The `sec` part of the expected time to rise/fall
        at_nanosec: 750000000 # The `nanosec` part of the expected time to rise/fall
      pose_no_update_count:
        flag: rise
        at_sec: 117
        at_nanosec: 900000000
  Datasets:
    - sample_dataset:
        VehicleId: default
        InitialPose: # Specifies the initial position. If null is specified, initial position estimation by GNSS is performed.
          position:
            x: 3836.5478515625
            y: 73729.96875
            z: 0.0
          orientation:
            x: 0.0
            y: 0.0
            z: -0.9689404241590215
            w: 0.2472942668776119
