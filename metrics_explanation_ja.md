# 地面セグメンテーション評価メトリクス説明（日本語版）

このドキュメントは、地面セグメンテーション結果で使用される評価メトリクスを説明します。

**注意**: 地面セグメンテーションの出力は、**地面点が除去された**点群（障害物点のみが残る）です。混同行列は、どの点が除去されたか（地面として分類されたか）と、どの点が残ったか（障害物として分類されたか）に基づいて評価されます。

## 混同行列の要素

### TP (True Positive / 真陽性)
**定義**: 地面ラベルを持つ点が、アルゴリズムによって地面として分類され → **除去された**点
- **意味**: 実際に地面（ground label）であり、正しく地面として識別されて除去された点
- **解釈**: 値が高いほど、地面点の検出と除去が良好であることを示します

### FP (False Positive / 偽陽性)
**定義**: 障害物ラベルを持つ点が、アルゴリズムによって地面として分類され → **除去された**点
- **意味**: 実際には障害物（obstacle label）であるのに、誤って地面として識別されて除去された点
- **解釈**: 値が低いほど良いです。FPが高いことは重大なエラーです：障害物が除去されてしまい、本来残すべき障害物が失われます。これは安全性の問題を引き起こす可能性があります（障害物を見逃す可能性）

### TN (True Negative / 真陰性)
**定義**: 障害物ラベルを持つ点が、アルゴリズムによって障害物として分類され → **除去されなかった**（出力に残った）点
- **意味**: 実際に障害物（obstacle label）であり、正しく障害物として識別されて出力に残された点
- **解釈**: 値が高いほど、出力に障害物点が良好に保持されていることを示します

### FN (False Negative / 偽陰性)
**定義**: 地面ラベルを持つ点が、アルゴリズムによって障害物として分類され → **除去されなかった**（出力に残った）点
- **意味**: 実際には地面（ground label）であるのに、誤って障害物として識別されて出力に残された点
- **解釈**: 値が低いほど良いです。FNが高いことは、除去されるべき地面点が出力に残っていることを示します。これはナビゲーションの問題を引き起こす可能性があります

## FNが0になる理由

FNが0になるということは、**すべての地面点が正しく除去された**ことを意味します。具体的には：

1. **完全な地面除去**: アルゴリズムが、ground labelを持つすべての点を正しく「地面」として識別し、除去した
2. **誤分類なし**: 地面点が誤って「障害物」として分類され、出力に残ったケースが0件

### 実際のデータ例

以下のような結果でFN=0が観測されています：

```
TP: 80,959, FP: 34,909, TN: 43,736, FN: 0
Recall: 0.9999999999999988 (ほぼ1.0)
```

この場合：
- **TPが非常に高い**: 80,959個の地面点が正しく除去された
- **FNが0**: 地面点が誤って出力に残ったケースが0件
- **Recallがほぼ1.0**: ほぼすべての地面点（99.99%以上）が正しく除去された

### FNが0になる条件

FNが0になるには、以下の条件が満たされる必要があります：

1. **アルゴリズムの性能が非常に高い**: すべての地面点を正しく識別できる
2. **シーンの特性**: 地面が明確に識別しやすいシーン（例：平坦な道路、明確な地面面）
3. **ラベルの正確性**: Ground Truthのラベルが正確で、すべての地面点が正しくラベル付けされている

### 注意点

FNが0になることは理想的ですが、実際には非常に稀です。通常、いくつかの地面点は誤分類されて出力に残ってしまいます。FNが0でも、他のメトリクス（特にFP）を確認することが重要です。上記の例では、FP=34,909と高く、多くの障害物が誤って除去されていることがわかります。


